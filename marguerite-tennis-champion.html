<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marguerite et le Grand Tournoi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .navigation {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 20px;
            background: #f8f9fa;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            background: #00b894;
            color: white;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .nav-btn:hover {
            background: #00cec9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,184,148,0.4);
        }
        
        .nav-btn.active {
            background: #00cec9;
            font-weight: bold;
        }
        
        .content {
            padding: 40px;
            display: none;
        }
        
        .content.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .story-text {
            line-height: 1.8;
            font-size: 1.1em;
            color: #333;
        }
        
        .story-text p {
            margin-bottom: 20px;
        }
        
        .dialogue {
            background: #e8f8f5;
            padding: 15px;
            border-left: 4px solid #00b894;
            margin: 20px 0;
            border-radius: 5px;
            font-style: italic;
        }
        
        .chapter-title {
            color: #00b894;
            font-size: 2em;
            margin-bottom: 30px;
            border-bottom: 3px solid #00b894;
            padding-bottom: 10px;
        }
        
        .sensory-highlight {
            background: linear-gradient(120deg, #e8f8f5 0%, #d1f2eb 100%);
            padding: 3px 6px;
            border-radius: 3px;
            font-weight: 500;
        }
        
        .tprs-repeat {
            background: #fff9e6;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: 600;
        }
        
        .vocab-section {
            background: #fff3cd;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
        }
        
        .vocab-title {
            color: #856404;
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        
        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .vocab-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #00b894;
        }
        
        .vocab-word {
            font-weight: bold;
            color: #00b894;
            font-size: 1.1em;
        }
        
        .vocab-definition {
            color: #666;
            margin-top: 5px;
        }
        
        .drag-drop-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .word-bank {
            background: white;
            padding: 20px;
            border-radius: 10px;
            min-height: 200px;
        }
        
        .word-bank h4 {
            margin-bottom: 15px;
            color: #856404;
        }
        
        .drop-zones h4 {
            margin-bottom: 15px;
            color: #856404;
        }
        
        .drop-zones {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .draggable {
            background: #00b894;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: move;
            display: inline-block;
            margin: 5px;
            transition: all 0.3s;
            user-select: none;
        }
        
        .draggable:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,184,148,0.4);
        }
        
        .draggable.dragging {
            opacity: 0.5;
        }
        
        .drop-zone {
            background: white;
            border: 2px dashed #00b894;
            padding: 15px;
            border-radius: 10px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .drop-zone.over {
            background: #e8f8f5;
            border-color: #00cec9;
        }
        
        .drop-zone.correct {
            background: #d4edda;
            border-color: #28a745;
        }
        
        .drop-zone.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }
        
        .drop-label {
            font-weight: 500;
            color: #666;
        }
        
        .check-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .check-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }
        
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }
        
        .feedback.show {
            display: block;
        }
        
        .feedback.correct {
            background: #d4edda;
            color: #155724;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
        }
        
        .quiz-section {
            background: #d1ecf1;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
        }
        
        .quiz-title {
            color: #0c5460;
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        
        .question {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .question-text {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .option {
            display: block;
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            background: #e9ecef;
            border-color: #00b894;
        }
        
        .option input[type="radio"] {
            margin-right: 10px;
        }
        
        .drawing-section {
            background: #e7f3ff;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
        }
        
        .drawing-title {
            color: #004085;
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        
        .canvas-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .drawing-canvas {
            border: 3px solid #00b894;
            border-radius: 10px;
            cursor: crosshair;
            touch-action: none;
        }
        
        .drawing-tools {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            align-items: center;
        }
        
        .color-btn {
            width: 40px;
            height: 40px;
            border: 3px solid #ddd;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .color-btn:hover {
            transform: scale(1.1);
        }
        
        .color-btn.active {
            border-color: #333;
            box-shadow: 0 0 0 2px white, 0 0 0 4px #333;
        }
        
        .tool-btn {
            padding: 10px 20px;
            border: 2px solid #00b894;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tool-btn:hover {
            background: #00b894;
            color: white;
        }
        
        .tool-btn.active {
            background: #00b894;
            color: white;
        }
        
        .pen-size-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .pen-size-slider {
            width: 100px;
        }
        
        /* Pong Game Styles */
        .game-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            color: white;
        }
        
        .game-title {
            font-size: 2em;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .game-instructions {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .game-instructions h4 {
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        .game-instructions ul {
            margin-left: 20px;
            line-height: 1.8;
        }
        
        .game-canvas-container {
            background: #1a1a2e;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        #pongCanvas {
            border: 3px solid #00b894;
            border-radius: 10px;
            background: #0f3460;
        }
        
        .game-controls {
            margin-top: 20px;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .game-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .game-btn.start {
            background: #00b894;
            color: white;
        }
        
        .game-btn.start:hover {
            background: #00cec9;
            transform: scale(1.05);
        }
        
        .game-btn.reset {
            background: #fdcb6e;
            color: #2d3436;
        }
        
        .game-btn.reset:hover {
            background: #ffeaa7;
            transform: scale(1.05);
        }
        
        .score-display {
            font-size: 1.5em;
            margin-top: 15px;
            font-weight: bold;
            text-align: center;
        }
        
        .victory-message {
            background: rgba(255,255,255,0.9);
            color: #00b894;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            font-size: 1.3em;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        
        .victory-message.show {
            display: block;
            animation: victoryPulse 0.5s ease-in-out;
        }
        
        @keyframes victoryPulse {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @media (max-width: 768px) {
            .drag-drop-container {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .navigation {
                gap: 5px;
            }
            
            .nav-btn {
                padding: 10px 15px;
                font-size: 0.9em;
            }
            
            #pongCanvas {
                max-width: 100%;
                height: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéæ Marguerite et le Grand Tournoi üéæ</h1>
            <p>Une histoire de tennis, de r√™ves et de musique country</p>
        </div>
        
        <div class="navigation">
            <button class="nav-btn active" data-chapter="chapter1">Chapitre 1</button>
            <button class="nav-btn" data-chapter="chapter2">Chapitre 2</button>
            <button class="nav-btn" data-chapter="chapter3">Chapitre 3</button>
            <button class="nav-btn" data-chapter="chapter4">Chapitre 4</button>
            <button class="nav-btn" data-chapter="chapter5">Chapitre 5</button>
        </div>
        
        <!-- Chapter 1 -->
        <div id="chapter1" class="content active">
            <h2 class="chapter-title">Chapitre 1 : Oh Non ! Elle Dort !</h2>
            
            <div class="story-text">
                <p>Marguerite <span class="tprs-repeat">dort</span>. Elle <span class="tprs-repeat">dort</span> profond√©ment. Elle <span class="tprs-repeat">dort</span> dans son lit tr√®s confortable. <span class="sensory-highlight">Le soleil brille par la fen√™tre</span>. Les oiseaux chantent. Mais Marguerite <span class="tprs-repeat">dort</span>.</p>
                
                <p>Quelle heure est-il ? Il est 8h30 du matin. Oh non ! Le grand tournoi de tennis commence √† 9h00 ! Marguerite doit se r√©veiller !</p>
                
                <p>Mais Marguerite ne se r√©veille pas. Elle <span class="tprs-repeat">dort</span>. Elle r√™ve. Dans son r√™ve, elle joue au tennis. Dans son r√™ve, elle joue contre Megan Moroney, sa chanteuse country pr√©f√©r√©e. C'est un bon r√™ve !</p>
                
                <p>DRING ! DRING ! DRING ! Le t√©l√©phone sonne. <span class="sensory-highlight">Le bruit est tr√®s fort</span>. Marguerite ouvre les yeux.</p>
                
                <div class="dialogue">
                    ¬´ All√¥ ? ¬ª dit Marguerite. Sa voix est fatigu√©e.
                </div>
                
                <div class="dialogue">
                    ¬´ MARGUERITE ! O√ô ES-TU ?! ¬ª crie sa meilleure amie, Sophie. ¬´ Le tournoi commence dans 30 minutes ! ¬ª
                </div>
                
                <p>Marguerite regarde son r√©veil. 8h30 ! Elle saute de son lit.</p>
                
                <div class="dialogue">
                    ¬´ OH NON ! OH NON ! OH NON ! ¬ª crie Marguerite. Elle court dans sa chambre. Elle cherche sa raquette. O√π est sa raquette ? Elle cherche ses chaussures de tennis. O√π sont ses chaussures ?
                </div>
                
                <p>Marguerite <span class="tprs-repeat">court</span>. Elle <span class="tprs-repeat">court</span> √† la salle de bain. Elle <span class="tprs-repeat">court</span> √† sa chambre. Elle <span class="tprs-repeat">court</span> partout ! <span class="sensory-highlight">Son c≈ìur bat tr√®s vite</span>.</p>
                
                <p>¬´ Ma raquette ! ¬ª Elle trouve sa raquette sous le lit. ¬´ Mes chaussures ! ¬ª Elle trouve ses chaussures dans le placard. ¬´ Mon sac ! ¬ª Elle met tout dans son sac.</p>
                
                <p>Il est 8h40. Elle a 20 minutes ! Marguerite <span class="tprs-repeat">court</span> √† la voiture. Elle <span class="tprs-repeat">court</span> tr√®s vite. Plus vite ! Plus vite !</p>
                
                <div class="dialogue">
                    ¬´ Je dois arriver au tournoi ! ¬ª pense Marguerite. ¬´ Je DOIS arriver ! ¬ª
                </div>
            </div>
            
            <div class="vocab-section">
                <h3 class="vocab-title">üìö Vocabulaire Essentiel</h3>
                <div class="vocab-grid">
                    <div class="vocab-item">
                        <div class="vocab-word">dormir / dort</div>
                        <div class="vocab-definition">to sleep / sleeps</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">se r√©veiller</div>
                        <div class="vocab-definition">to wake up</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">le tournoi</div>
                        <div class="vocab-definition">the tournament</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">courir / court</div>
                        <div class="vocab-definition">to run / runs</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">chercher</div>
                        <div class="vocab-definition">to look for, to search</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">la raquette</div>
                        <div class="vocab-definition">the racket</div>
                    </div>
                </div>
                
                <div class="drag-drop-container">
                    <div class="word-bank">
                        <h4>üíº Banque de mots</h4>
                        <div class="draggable" draggable="true">dort</div>
                        <div class="draggable" draggable="true">tournoi</div>
                        <div class="draggable" draggable="true">court</div>
                        <div class="draggable" draggable="true">raquette</div>
                        <div class="draggable" draggable="true">cherche</div>
                    </div>
                    
                    <div class="drop-zones">
                        <h4>üéØ Compl√®te les phrases</h4>
                        <div class="drop-zone" data-correct="dort">
                            <span class="drop-label">Marguerite _____ dans son lit.</span>
                        </div>
                        <div class="drop-zone" data-correct="tournoi">
                            <span class="drop-label">Le grand _____ commence √† 9h00.</span>
                        </div>
                        <div class="drop-zone" data-correct="court">
                            <span class="drop-label">Marguerite _____ partout !</span>
                        </div>
                        <div class="drop-zone" data-correct="raquette">
                            <span class="drop-label">Elle trouve sa _____ sous le lit.</span>
                        </div>
                        <div class="drop-zone" data-correct="cherche">
                            <span class="drop-label">Elle _____ ses chaussures.</span>
                        </div>
                    </div>
                </div>
                <button class="check-btn" data-check="chapter1">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
            
            <div class="quiz-section">
                <h3 class="quiz-title">‚ùì Compr√©hension</h3>
                
                <div class="question">
                    <div class="question-text">1. Qu'est-ce que Marguerite fait au d√©but de l'histoire ?</div>
                    <label class="option">
                        <input type="radio" name="q1" value="a">
                        a) Elle joue au tennis
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="b">
                        b) Elle dort
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="c">
                        c) Elle court
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">2. √Ä quelle heure commence le tournoi ?</div>
                    <label class="option">
                        <input type="radio" name="q2" value="a">
                        a) √Ä 8h30
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="b">
                        b) √Ä 9h00
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="c">
                        c) √Ä 10h00
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">3. Qui t√©l√©phone √† Marguerite ?</div>
                    <label class="option">
                        <input type="radio" name="q3" value="a">
                        a) Sa m√®re
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="b">
                        b) Megan Moroney
                    </label>
                    <label class="option">
                        <input type="radio" name="q3" value="c">
                        c) Sophie, sa meilleure amie
                    </label>
                </div>
                
                <button class="check-btn" data-quiz="quiz1">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
        </div>
        
        <!-- Chapter 2 -->
        <div id="chapter2" class="content">
            <h2 class="chapter-title">Chapitre 2 : Elle Arrive !</h2>
            
            <div class="story-text">
                <p>Marguerite <span class="tprs-repeat">conduit</span>. Elle <span class="tprs-repeat">conduit</span> tr√®s vite. Elle <span class="tprs-repeat">conduit</span> vers le club de tennis. ¬´ Plus vite ! Plus vite ! ¬ª pense-t-elle.</p>
                
                <p><span class="sensory-highlight">Les rues sont pleines de voitures</span>. Il y a beaucoup de trafic. Oh non ! Marguerite regarde l'heure : 8h50. Elle a seulement 10 minutes !</p>
                
                <p>¬´ Je ne vais pas arriver ! ¬ª pense Marguerite. ¬´ Je vais <span class="tprs-repeat">manquer</span> le tournoi ! Je vais <span class="tprs-repeat">manquer</span> ma chance ! ¬ª</p>
                
                <p>Mais Marguerite ne veut pas <span class="tprs-repeat">manquer</span> le tournoi. Ce tournoi est tr√®s important. C'est le tournoi de championnat. Le gagnant re√ßoit un grand troph√©e. Et... il y a une rumeur. On dit que Megan Moroney, la chanteuse country, va jouer dans le tournoi !</p>
                
                <div class="dialogue">
                    ¬´ Megan Moroney ? Ma chanteuse pr√©f√©r√©e ? Non, c'est impossible ! ¬ª pense Marguerite.
                </div>
                
                <p>Mais Marguerite adore Megan Moroney. Elle √©coute ses chansons tous les jours. Elle chante ses chansons sous la douche. Elle conna√Æt toutes les paroles !</p>
                
                <p>8h55. Cinq minutes ! Marguerite voit le club de tennis. Elle <span class="tprs-repeat">arrive</span> ! Elle <span class="tprs-repeat">arrive</span> ! Elle va <span class="tprs-repeat">arriver</span> !</p>
                
                <p>Marguerite cherche une place de parking. O√π ? O√π ? L√† ! Elle voit une place ! Elle gare la voiture tr√®s vite. Elle prend son sac. Elle <span class="tprs-repeat">court</span>. Elle <span class="tprs-repeat">court</span> vers l'entr√©e du club.</p>
                
                <p><span class="sensory-highlight">L'air est chaud</span>. Marguerite transpire. Son c≈ìur bat fort. <em>BAM BAM BAM.</em></p>
                
                <p>8h58. Deux minutes ! Marguerite entre dans le club. Elle voit Sophie.</p>
                
                <div class="dialogue">
                    ¬´ MARGUERITE ! ¬ª crie Sophie. ¬´ Tu es l√† ! J'ai pens√© que tu n'allais pas arriver ! ¬ª
                </div>
                
                <div class="dialogue">
                    ¬´ Je suis l√† ! ¬ª dit Marguerite. Elle respire tr√®s fort. ¬´ Je... suis... l√† ! ¬ª
                </div>
                
                <p>Sophie sourit. Elle donne une bouteille d'eau √† Marguerite.</p>
                
                <div class="dialogue">
                    ¬´ Ton premier match commence dans cinq minutes, ¬ª dit Sophie. ¬´ Et Marguerite... la rumeur est vraie. Megan Moroney est ici. Elle joue dans le tournoi ! ¬ª
                </div>
                
                <p>Marguerite regarde Sophie. Ses yeux sont tr√®s grands.</p>
                
                <div class="dialogue">
                    ¬´ QUOI ?! ¬ª dit Marguerite. ¬´ Megan Moroney est ICI ?! ¬ª
                </div>
                
                <p>C'est incroyable. C'est impossible. C'est... r√©el.</p>
            </div>
            
            <div class="vocab-section">
                <h3 class="vocab-title">üìö Vocabulaire Essentiel</h3>
                <div class="vocab-grid">
                    <div class="vocab-item">
                        <div class="vocab-word">conduire / conduit</div>
                        <div class="vocab-definition">to drive / drives</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">manquer</div>
                        <div class="vocab-definition">to miss</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">arriver</div>
                        <div class="vocab-definition">to arrive</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">le gagnant</div>
                        <div class="vocab-definition">the winner</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">la chanteuse</div>
                        <div class="vocab-definition">the singer (female)</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">le match</div>
                        <div class="vocab-definition">the match, the game</div>
                    </div>
                </div>
                
                <div class="drag-drop-container">
                    <div class="word-bank">
                        <h4>üíº Banque de mots</h4>
                        <div class="draggable" draggable="true">conduit</div>
                        <div class="draggable" draggable="true">manquer</div>
                        <div class="draggable" draggable="true">arrive</div>
                        <div class="draggable" draggable="true">chanteuse</div>
                        <div class="draggable" draggable="true">match</div>
                    </div>
                    
                    <div class="drop-zones">
                        <h4>üéØ Compl√®te les phrases</h4>
                        <div class="drop-zone" data-correct="conduit">
                            <span class="drop-label">Marguerite _____ tr√®s vite.</span>
                        </div>
                        <div class="drop-zone" data-correct="manquer">
                            <span class="drop-label">Elle ne veut pas _____ le tournoi.</span>
                        </div>
                        <div class="drop-zone" data-correct="arrive">
                            <span class="drop-label">Marguerite _____ au club !</span>
                        </div>
                        <div class="drop-zone" data-correct="chanteuse">
                            <span class="drop-label">Megan Moroney est une _____.</span>
                        </div>
                        <div class="drop-zone" data-correct="match">
                            <span class="drop-label">Son premier _____ commence bient√¥t.</span>
                        </div>
                    </div>
                </div>
                <button class="check-btn" data-check="chapter2">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
            
            <div class="quiz-section">
                <h3 class="quiz-title">‚ùì Compr√©hension</h3>
                
                <div class="question">
                    <div class="question-text">1. Quel est le probl√®me quand Marguerite conduit ?</div>
                    <label class="option">
                        <input type="radio" name="q4" value="a">
                        a) La voiture ne marche pas
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="b">
                        b) Il y a beaucoup de trafic
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="c">
                        c) Elle est perdue
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">2. Qu'est-ce que le gagnant du tournoi re√ßoit ?</div>
                    <label class="option">
                        <input type="radio" name="q5" value="a">
                        a) Un grand troph√©e
                    </label>
                    <label class="option">
                        <input type="radio" name="q5" value="b">
                        b) Une voiture
                    </label>
                    <label class="option">
                        <input type="radio" name="q5" value="c">
                        c) De l'argent
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">3. Quelle est la rumeur √† propos du tournoi ?</div>
                    <label class="option">
                        <input type="radio" name="q6" value="a">
                        a) Le tournoi est annul√©
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="b">
                        b) Megan Moroney va jouer
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="c">
                        c) Il y a 100 joueurs
                    </label>
                </div>
                
                <button class="check-btn" data-quiz="quiz2">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
            
            <div class="drawing-section">
                <h3 class="drawing-title">‚úèÔ∏è Expression Cr√©ative</h3>
                <p><strong>Dessine Marguerite qui court vers le club de tennis avec sa raquette !</strong></p>
                <div class="canvas-container">
                    <canvas class="drawing-canvas" data-canvas="canvas1" width="600" height="400"></canvas>
                    <div class="drawing-tools">
                        <button class="color-btn active" data-color="#000000" style="background: #000000;"></button>
                        <button class="color-btn" data-color="#00b894" style="background: #00b894;"></button>
                        <button class="color-btn" data-color="#00cec9" style="background: #00cec9;"></button>
                        <button class="color-btn" data-color="#fdcb6e" style="background: #fdcb6e;"></button>
                        <button class="color-btn" data-color="#e17055" style="background: #e17055;"></button>
                        <button class="color-btn" data-color="#6c5ce7" style="background: #6c5ce7;"></button>
                        <button class="color-btn" data-color="#fd79a8" style="background: #fd79a8;"></button>
                        
                        <div class="pen-size-control">
                            <label>Taille: </label>
                            <input type="range" class="pen-size-slider" min="1" max="20" value="3">
                            <span class="pen-size-display">3px</span>
                        </div>
                        
                        <button class="tool-btn eraser-btn">üßπ Gomme</button>
                        <button class="tool-btn undo-btn">‚Ü©Ô∏è Annuler</button>
                        <button class="tool-btn redo-btn">‚Ü™Ô∏è Refaire</button>
                        <button class="tool-btn clear-btn">üóëÔ∏è Effacer tout</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Chapter 3 -->
        <div id="chapter3" class="content">
            <h2 class="chapter-title">Chapitre 3 : Marguerite Gagne et Gagne !</h2>
            
            <div class="story-text">
                <p>Marguerite <span class="tprs-repeat">joue</span>. Elle <span class="tprs-repeat">joue</span> son premier match. Elle <span class="tprs-repeat">joue</span> contre une fille qui s'appelle Emma. Emma est bonne, mais Marguerite est meilleure !</p>
                
                <p><span class="sensory-highlight">La balle fait un bruit fort : POCK ! POCK ! POCK !</span> Marguerite frappe la balle. Emma frappe la balle. Marguerite frappe fort. Plus fort ! POCK !</p>
                
                <p>Marguerite <span class="tprs-repeat">gagne</span> ! Elle <span class="tprs-repeat">gagne</span> le premier match ! Score : 6-2, 6-3. Excellent !</p>
                
                <div class="dialogue">
                    ¬´ Bravo ! ¬ª crie Sophie. ¬´ Tu joues super bien ! ¬ª
                </div>
                
                <p>Deuxi√®me match. Marguerite <span class="tprs-repeat">joue</span> contre une fille qui s'appelle Lucie. Lucie est tr√®s rapide. Elle court partout sur le court. Mais Marguerite est plus forte !</p>
                
                <p>POCK ! Marguerite frappe la balle tr√®s fort. Lucie ne peut pas la renvoyer. Point pour Marguerite !</p>
                
                <p>POCK ! Encore ! Marguerite frappe. La balle vole dans l'air. Lucie court, mais elle ne peut pas attraper la balle. Point pour Marguerite !</p>
                
                <p>Marguerite <span class="tprs-repeat">gagne</span> ! Elle <span class="tprs-repeat">gagne</span> le deuxi√®me match ! Score : 6-1, 6-2. Fantastique !</p>
                
                <p>Troisi√®me match. Marguerite <span class="tprs-repeat">joue</span> contre une fille qui s'appelle Camille. Camille est tr√®s grande. Elle a un service tr√®s puissant. BOUM ! La balle est rapide comme une fus√©e !</p>
                
                <p>Mais Marguerite ne a pas peur. Elle se concentre. <span class="sensory-highlight">Elle sent le soleil sur sa peau</span>. Elle entend le vent. Elle voit la balle. POCK ! Elle frappe !</p>
                
                <p>Le match est difficile. Tr√®s difficile. Mais Marguerite ne abandonne pas. Elle <span class="tprs-repeat">joue</span>. Elle <span class="tprs-repeat">joue</span> et elle <span class="tprs-repeat">joue</span>.</p>
                
                <p>Finalement, Marguerite <span class="tprs-repeat">gagne</span> ! Elle <span class="tprs-repeat">gagne</span> le troisi√®me match ! Score : 7-5, 6-4. Incroyable !</p>
                
                <div class="dialogue">
                    ¬´ Marguerite ! ¬ª dit l'arbitre. ¬´ Tu es en finale ! ¬ª
                </div>
                
                <p>En finale ? MARGUERITE EST EN FINALE !</p>
                
                <p>Sophie court vers Marguerite. Elle est tr√®s excit√©e.</p>
                
                <div class="dialogue">
                    ¬´ Marguerite ! Tu es en finale ! Et tu sais contre qui tu vas jouer ? ¬ª Sophie sourit. ¬´ Contre MEGAN MORONEY ! ¬ª
                </div>
                
                <p>Marguerite ne peut pas parler. Megan Moroney ? La chanteuse ? Sa chanteuse pr√©f√©r√©e ? C'est impossible !</p>
                
                <p>Mais c'est vrai. Marguerite regarde sur le court. Elle voit une fille avec une guitare. Non... pas une guitare. Une raquette ! Et c'est... c'est... MEGAN MORONEY !</p>
                
                <div class="dialogue">
                    ¬´ Oh mon Dieu, ¬ª murmure Marguerite. ¬´ Je vais jouer contre Megan Moroney. ¬ª
                </div>
            </div>
            
            <div class="vocab-section">
                <h3 class="vocab-title">üìö Vocabulaire Essentiel</h3>
                <div class="vocab-grid">
                    <div class="vocab-item">
                        <div class="vocab-word">jouer / joue</div>
                        <div class="vocab-definition">to play / plays</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">gagner / gagne</div>
                        <div class="vocab-definition">to win / wins</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">frapper</div>
                        <div class="vocab-definition">to hit</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">la balle</div>
                        <div class="vocab-definition">the ball</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">le court</div>
                        <div class="vocab-definition">the court</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">la finale</div>
                        <div class="vocab-definition">the final</div>
                    </div>
                </div>
                
                <div class="drag-drop-container">
                    <div class="word-bank">
                        <h4>üíº Banque de mots</h4>
                        <div class="draggable" draggable="true">joue</div>
                        <div class="draggable" draggable="true">gagne</div>
                        <div class="draggable" draggable="true">balle</div>
                        <div class="draggable" draggable="true">finale</div>
                        <div class="draggable" draggable="true">frappe</div>
                    </div>
                    
                    <div class="drop-zones">
                        <h4>üéØ Compl√®te les phrases</h4>
                        <div class="drop-zone" data-correct="joue">
                            <span class="drop-label">Marguerite _____ trois matchs.</span>
                        </div>
                        <div class="drop-zone" data-correct="gagne">
                            <span class="drop-label">Elle _____ tous ses matchs !</span>
                        </div>
                        <div class="drop-zone" data-correct="frappe">
                            <span class="drop-label">Marguerite _____ la balle tr√®s fort.</span>
                        </div>
                        <div class="drop-zone" data-correct="balle">
                            <span class="drop-label">La _____ vole dans l'air.</span>
                        </div>
                        <div class="drop-zone" data-correct="finale">
                            <span class="drop-label">Marguerite est en _____ !</span>
                        </div>
                    </div>
                </div>
                <button class="check-btn" data-check="chapter3">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
            
            <div class="quiz-section">
                <h3 class="quiz-title">‚ùì Compr√©hension</h3>
                
                <div class="question">
                    <div class="question-text">1. Combien de matchs Marguerite joue-t-elle avant la finale ?</div>
                    <label class="option">
                        <input type="radio" name="q7" value="a">
                        a) Deux matchs
                    </label>
                    <label class="option">
                        <input type="radio" name="q7" value="b">
                        b) Trois matchs
                    </label>
                    <label class="option">
                        <input type="radio" name="q7" value="c">
                        c) Quatre matchs
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">2. Quel est le match le plus difficile pour Marguerite ?</div>
                    <label class="option">
                        <input type="radio" name="q8" value="a">
                        a) Le match contre Emma
                    </label>
                    <label class="option">
                        <input type="radio" name="q8" value="b">
                        b) Le match contre Lucie
                    </label>
                    <label class="option">
                        <input type="radio" name="q8" value="c">
                        c) Le match contre Camille
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">3. Contre qui Marguerite va-t-elle jouer en finale ?</div>
                    <label class="option">
                        <input type="radio" name="q9" value="a">
                        a) Sophie
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="b">
                        b) Megan Moroney
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="c">
                        c) Camille
                    </label>
                </div>
                
                <button class="check-btn" data-quiz="quiz3">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
        </div>
        
        <!-- Chapter 4 with PONG GAME -->
        <div id="chapter4" class="content">
            <h2 class="chapter-title">Chapitre 4 : La Bataille Finale - Marg contre Meg !</h2>
            
            <div class="story-text">
                <p>Marguerite marche sur le court. <span class="sensory-highlight">Ses jambes tremblent</span>. De l'autre c√¥t√© du court, Megan Moroney sourit. Elle porte une casquette de cowboy rose. Bien s√ªr qu'elle porte une casquette de cowboy !</p>
                
                <div class="dialogue">
                    ¬´ Salut ! ¬ª dit Megan. Sa voix est gentille. ¬´ Tu t'appelles Marguerite, non ? Tu peux m'appeler Meg. Pr√™te pour un bon match ? ¬ª
                </div>
                
                <p>Marguerite ne peut pas parler. Elle hoche la t√™te. Oui. Elle est pr√™te. Enfin... peut-√™tre pas pr√™te. Mais elle va <span class="tprs-repeat">essayer</span>. Elle va <span class="tprs-repeat">essayer</span> son meilleur !</p>
                
                <p>L'arbitre parle :</p>
                
                <div class="dialogue">
                    ¬´ Match pour le championnat ! Marguerite contre Megan ! Que le meilleur joueur gagne ! ¬ª
                </div>
                
                <p>Le match commence. Meg sert la balle. POCK ! La balle vole vers Marguerite. Marguerite frappe ! POCK ! La balle retourne vers Meg.</p>
                
                <p>Elles <span class="tprs-repeat">jouent</span>. Elles <span class="tprs-repeat">jouent</span> et elles <span class="tprs-repeat">jouent</span>. La balle va √† gauche. La balle va √† droite. La balle va partout !</p>
                
                <p>Meg est bonne. Tr√®s bonne ! Elle frappe fort. Elle court vite. Mais Marguerite est forte aussi !</p>
                
                <p>Premier set : Meg gagne 6-4. Oh non ! Marguerite perd le premier set !</p>
                
                <p>Deuxi√®me set : Marguerite se concentre. Elle pense : ¬´ Je peux le faire ! Je peux gagner ! ¬ª Elle <span class="tprs-repeat">joue</span> mieux. Plus fort ! Plus vite ! Elle gagne le deuxi√®me set 6-3 !</p>
                
                <p>C'est 1-1. Un set chacun. Maintenant, c'est le troisi√®me set d√©cisif. Qui va gagner ?</p>
                
                <div class="dialogue">
                    ¬´ Tu es tr√®s bonne ! ¬ª dit Meg en souriant. ¬´ Ce match est vraiment amusant ! ¬ª
                </div>
                
                <div class="dialogue">
                    ¬´ Merci ! ¬ª dit Marguerite. ¬´ J'adore vos chansons ! Surtout "Tennessee Orange" ! ¬ª
                </div>
                
                <div class="dialogue">
                    ¬´ Aww, merci ! ¬ª dit Meg. ¬´ Mais maintenant, je vais te battre ! ¬ª Elle rit.
                </div>
                
                <p>Le troisi√®me set commence. C'est la bataille finale ! La vraie bataille ! Qui sera la championne ?</p>
            </div>
            
            <!-- PONG GAME SECTION -->
            <div class="game-section">
                <h3 class="game-title">üéæ BATAILLE FINALE : MARG vs MEG üéæ</h3>
                
                <div class="game-instructions">
                    <h4>üéÆ Comment jouer :</h4>
                    <ul>
                        <li><strong>Marg (joueur de gauche) :</strong> Utilise les touches W (haut) et S (bas)</li>
                        <li><strong>Meg (joueur de droite) :</strong> Utilise les touches ‚Üë (haut) et ‚Üì (bas)</li>
                        <li><strong>Objectif :</strong> Premier √† 7 points gagne !</li>
                        <li>Clique sur "Commencer le Match" pour jouer !</li>
                    </ul>
                </div>
                
                <div class="game-canvas-container">
                    <canvas id="pongCanvas" width="800" height="500"></canvas>
                    <div class="score-display" id="scoreDisplay">Marg: 0 | Meg: 0</div>
                    <div class="game-controls">
                        <button class="game-btn start" id="startBtn">üéæ Commencer le Match</button>
                        <button class="game-btn reset" id="resetBtn">üîÑ Recommencer</button>
                    </div>
                    <div class="victory-message" id="victoryMessage"></div>
                </div>
            </div>
            
            <div class="vocab-section">
                <h3 class="vocab-title">üìö Vocabulaire Essentiel</h3>
                <div class="vocab-grid">
                    <div class="vocab-item">
                        <div class="vocab-word">essayer</div>
                        <div class="vocab-definition">to try</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">servir</div>
                        <div class="vocab-definition">to serve</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">le set</div>
                        <div class="vocab-definition">the set</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">perdre</div>
                        <div class="vocab-definition">to lose</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">se concentrer</div>
                        <div class="vocab-definition">to concentrate, to focus</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">la bataille</div>
                        <div class="vocab-definition">the battle</div>
                    </div>
                </div>
                
                <div class="drag-drop-container">
                    <div class="word-bank">
                        <h4>üíº Banque de mots</h4>
                        <div class="draggable" draggable="true">essayer</div>
                        <div class="draggable" draggable="true">set</div>
                        <div class="draggable" draggable="true">bataille</div>
                        <div class="draggable" draggable="true">concentre</div>
                        <div class="draggable" draggable="true">perd</div>
                    </div>
                    
                    <div class="drop-zones">
                        <h4>üéØ Compl√®te les phrases</h4>
                        <div class="drop-zone" data-correct="essayer">
                            <span class="drop-label">Marguerite va _____ son meilleur.</span>
                        </div>
                        <div class="drop-zone" data-correct="perd">
                            <span class="drop-label">Marguerite _____ le premier set.</span>
                        </div>
                        <div class="drop-zone" data-correct="set">
                            <span class="drop-label">Elle gagne le deuxi√®me _____.</span>
                        </div>
                        <div class="drop-zone" data-correct="concentre">
                            <span class="drop-label">Marguerite se _____.</span>
                        </div>
                        <div class="drop-zone" data-correct="bataille">
                            <span class="drop-label">C'est la _____ finale !</span>
                        </div>
                    </div>
                </div>
                <button class="check-btn" data-check="chapter4">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
            
            <div class="quiz-section">
                <h3 class="quiz-title">‚ùì Compr√©hension</h3>
                
                <div class="question">
                    <div class="question-text">1. Qu'est-ce que Meg porte sur sa t√™te ?</div>
                    <label class="option">
                        <input type="radio" name="q10" value="a">
                        a) Une casquette de cowboy rose
                    </label>
                    <label class="option">
                        <input type="radio" name="q10" value="b">
                        b) Un chapeau noir
                    </label>
                    <label class="option">
                        <input type="radio" name="q10" value="c">
                        c) Rien
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">2. Qui gagne le premier set ?</div>
                    <label class="option">
                        <input type="radio" name="q11" value="a">
                        a) Marguerite
                    </label>
                    <label class="option">
                        <input type="radio" name="q11" value="b">
                        b) Meg
                    </label>
                    <label class="option">
                        <input type="radio" name="q11" value="c">
                        c) Personne
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">3. Quelle chanson de Meg est la pr√©f√©r√©e de Marguerite ?</div>
                    <label class="option">
                        <input type="radio" name="q12" value="a">
                        a) "Texas Star"
                    </label>
                    <label class="option">
                        <input type="radio" name="q12" value="b">
                        b) "Tennessee Orange"
                    </label>
                    <label class="option">
                        <input type="radio" name="q12" value="c">
                        c) "Country Girl"
                    </label>
                </div>
                
                <button class="check-btn" data-quiz="quiz4">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
        </div>
        
        <!-- Chapter 5 -->
        <div id="chapter5" class="content">
            <h2 class="chapter-title">Chapitre 5 : La Nouvelle Amie</h2>
            
            <div class="story-text">
                <p>Le troisi√®me set est intense ! Marguerite <span class="tprs-repeat">joue</span>. Meg <span class="tprs-repeat">joue</span>. Elles <span class="tprs-repeat">jouent</span> pendant une heure !</p>
                
                <p>5-5. C'est √©gal. Puis 6-6. Toujours √©gal ! <span class="sensory-highlight">La tension est √©norme</span>. Tout le monde regarde. Sophie crie. Les spectateurs applaudissent.</p>
                
                <p>7-6. Marguerite a un point d'avance ! Elle peut gagner maintenant ! C'est le dernier point du match !</p>
                
                <p>Meg sert. POCK ! Marguerite frappe. POCK ! Elles √©changent la balle. Une fois. Deux fois. Trois fois. Dix fois ! Qui va gagner ce point ?</p>
                
                <p>Marguerite voit la balle. Elle <span class="sensory-highlight">sent son c≈ìur battre</span>. Elle court. Elle saute. Elle frappe la balle de toutes ses forces !</p>
                
                <p>POOOOOCK !</p>
                
                <p>La balle vole. Elle vole dans l'air. Elle passe √† c√¥t√© de Meg. Meg court, mais elle ne peut pas l'attraper. La balle touche le sol.</p>
                
                <div class="dialogue">
                    ¬´ POINT ! MATCH ! CHAMPIONNAT ! ¬ª crie l'arbitre. ¬´ MARGUERITE GAGNE ! ¬ª
                </div>
                
                <p>MARGUERITE GAGNE ! Elle est la championne ! Elle a gagn√© le tournoi !</p>
                
                <p>Marguerite ne peut pas croire. Elle regarde ses mains. Elle regarde sa raquette. C'est r√©el ? Oui, c'est r√©el !</p>
                
                <p>Meg court vers Marguerite. Elle sourit.</p>
                
                <div class="dialogue">
                    ¬´ F√©licitations ! ¬ª dit Meg. ¬´ Tu as super bien jou√© ! Tu m√©rites de gagner ! ¬ª
                </div>
                
                <p>Meg donne un hug √† Marguerite. Un HUG ! Megan Moroney donne un hug √† Marguerite !</p>
                
                <div class="dialogue">
                    ¬´ Merci, ¬ª dit Marguerite. ¬´ Vous... tu joues vraiment bien aussi ! J'ai eu tellement peur pendant tout le match ! ¬ª
                </div>
                
                <div class="dialogue">
                    ¬´ Moi aussi ! ¬ª rit Meg. ¬´ Tu es tr√®s forte ! Tu sais, je donne un concert la semaine prochaine. Tu veux venir ? Je te donne deux billets gratuits ! ¬ª
                </div>
                
                <p>Marguerite ne peut pas parler. Des billets ? Gratuits ? Pour un concert de Megan Moroney ?</p>
                
                <div class="dialogue">
                    ¬´ OUI ! ¬ª crie finalement Marguerite. ¬´ OUI OUI OUI ! ¬ª
                </div>
                
                <p>Meg rit. Elle sort son t√©l√©phone.</p>
                
                <div class="dialogue">
                    ¬´ Donne-moi ton num√©ro, ¬ª dit Meg. ¬´ On peut √™tre amies ! Et peut-√™tre qu'on peut jouer au tennis ensemble de temps en temps ? ¬ª
                </div>
                
                <p>Amies ? Marguerite et Megan Moroney... amies ?</p>
                
                <p>Sophie court vers Marguerite. Elle saute partout.</p>
                
                <div class="dialogue">
                    ¬´ TU AS GAGN√â ! ¬ª crie Sophie. ¬´ ET TU ES AMIE AVEC MEGAN MORONEY ! C'est le meilleur jour de ta vie ! ¬ª
                </div>
                
                <p>Marguerite sourit. Oui. C'est le meilleur jour de sa vie. Elle a presque <span class="tprs-repeat">manqu√©</span> le tournoi ce matin. Elle a presque <span class="tprs-repeat">manqu√©</span> tout √ßa. Mais elle n'a pas <span class="tprs-repeat">manqu√©</span>. Elle est arriv√©e. Elle a jou√©. Et elle a gagn√©.</p>
                
                <p>Et maintenant ? Maintenant, elle a un troph√©e. Elle a deux billets de concert. Et elle a une nouvelle amie : Meg.</p>
                
                <div class="dialogue">
                    ¬´ Hey Marguerite, ¬ª dit Meg. ¬´ La prochaine fois qu'on joue, je vais gagner ! ¬ª
                </div>
                
                <div class="dialogue">
                    ¬´ On verra ! ¬ª dit Marguerite en riant.
                </div>
                
                <p>Marguerite regarde le ciel bleu. <span class="sensory-highlight">Le soleil brille</span>. Elle sent le vent sur son visage. Elle sourit.</p>
                
                <p>Ce matin, elle dormait. Maintenant, elle est la championne de tennis. Et parfois, les r√™ves deviennent r√©alit√©.</p>
                
                <p style="text-align: center; margin-top: 40px; font-size: 1.3em; color: #00b894; font-weight: bold;">
                    ‚ú® FIN ‚ú®<br>
                    <span style="font-size: 0.8em; font-style: italic;">Marguerite ne dormira plus jamais en retard ! üòä</span>
                </p>
            </div>
            
            <div class="vocab-section">
                <h3 class="vocab-title">üìö Vocabulaire Essentiel</h3>
                <div class="vocab-grid">
                    <div class="vocab-item">
                        <div class="vocab-word">intense</div>
                        <div class="vocab-definition">intense</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">√©gal(e)</div>
                        <div class="vocab-definition">equal, tied</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">le/la championne</div>
                        <div class="vocab-definition">the champion</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">m√©riter</div>
                        <div class="vocab-definition">to deserve</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">gratuit(e)</div>
                        <div class="vocab-definition">free</div>
                    </div>
                    <div class="vocab-item">
                        <div class="vocab-word">de temps en temps</div>
                        <div class="vocab-definition">from time to time</div>
                    </div>
                </div>
                
                <div class="drag-drop-container">
                    <div class="word-bank">
                        <h4>üíº Banque de mots</h4>
                        <div class="draggable" draggable="true">championne</div>
                        <div class="draggable" draggable="true">gratuits</div>
                        <div class="draggable" draggable="true">amies</div>
                        <div class="draggable" draggable="true">troph√©e</div>
                        <div class="draggable" draggable="true">manqu√©</div>
                    </div>
                    
                    <div class="drop-zones">
                        <h4>üéØ Compl√®te les phrases</h4>
                        <div class="drop-zone" data-correct="championne">
                            <span class="drop-label">Marguerite est la _____ !</span>
                        </div>
                        <div class="drop-zone" data-correct="gratuits">
                            <span class="drop-label">Meg donne des billets _____.</span>
                        </div>
                        <div class="drop-zone" data-correct="amies">
                            <span class="drop-label">Marguerite et Meg sont maintenant _____.</span>
                        </div>
                        <div class="drop-zone" data-correct="troph√©e">
                            <span class="drop-label">Marguerite gagne un _____.</span>
                        </div>
                        <div class="drop-zone" data-correct="manqu√©">
                            <span class="drop-label">Elle a presque _____ le tournoi.</span>
                        </div>
                    </div>
                </div>
                <button class="check-btn" data-check="chapter5">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
            
            <div class="quiz-section">
                <h3 class="quiz-title">‚ùì Compr√©hension</h3>
                
                <div class="question">
                    <div class="question-text">1. Quel est le score final du troisi√®me set ?</div>
                    <label class="option">
                        <input type="radio" name="q13" value="a">
                        a) 6-4
                    </label>
                    <label class="option">
                        <input type="radio" name="q13" value="b">
                        b) 7-6
                    </label>
                    <label class="option">
                        <input type="radio" name="q13" value="c">
                        c) 6-6
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">2. Qu'est-ce que Meg donne √† Marguerite ?</div>
                    <label class="option">
                        <input type="radio" name="q14" value="a">
                        a) Une guitare
                    </label>
                    <label class="option">
                        <input type="radio" name="q14" value="b">
                        b) Une raquette
                    </label>
                    <label class="option">
                        <input type="radio" name="q14" value="c">
                        c) Deux billets de concert gratuits
                    </label>
                </div>
                
                <div class="question">
                    <div class="question-text">3. Quelle est la le√ßon de l'histoire ?</div>
                    <label class="option">
                        <input type="radio" name="q15" value="a">
                        a) Il faut toujours dormir beaucoup
                    </label>
                    <label class="option">
                        <input type="radio" name="q15" value="b">
                        b) Les r√™ves peuvent devenir r√©alit√©
                    </label>
                    <label class="option">
                        <input type="radio" name="q15" value="c">
                        c) Le tennis est facile
                    </label>
                </div>
                
                <button class="check-btn" data-quiz="quiz5">V√©rifier mes r√©ponses ‚úì</button>
                <div class="feedback"></div>
            </div>
            
            <div class="drawing-section">
                <h3 class="drawing-title">‚úèÔ∏è Expression Cr√©ative Finale</h3>
                <p><strong>Dessine Marguerite avec son troph√©e et Meg avec sa casquette de cowboy rose ! üèÜü§†</strong></p>
                <div class="canvas-container">
                    <canvas class="drawing-canvas" data-canvas="canvas2" width="600" height="400"></canvas>
                    <div class="drawing-tools">
                        <button class="color-btn active" data-color="#000000" style="background: #000000;"></button>
                        <button class="color-btn" data-color="#00b894" style="background: #00b894;"></button>
                        <button class="color-btn" data-color="#fd79a8" style="background: #fd79a8;"></button>
                        <button class="color-btn" data-color="#fdcb6e" style="background: #fdcb6e;"></button>
                        <button class="color-btn" data-color="#e17055" style="background: #e17055;"></button>
                        <button class="color-btn" data-color="#6c5ce7" style="background: #6c5ce7;"></button>
                        <button class="color-btn" data-color="#00cec9" style="background: #00cec9;"></button>
                        <button class="color-btn" data-color="#ff7675" style="background: #ff7675;"></button>
                        
                        <div class="pen-size-control">
                            <label>Taille: </label>
                            <input type="range" class="pen-size-slider" min="1" max="20" value="3">
                            <span class="pen-size-display">3px</span>
                        </div>
                        
                        <button class="tool-btn eraser-btn">üßπ Gomme</button>
                        <button class="tool-btn undo-btn">‚Ü©Ô∏è Annuler</button>
                        <button class="tool-btn redo-btn">‚Ü™Ô∏è Refaire</button>
                        <button class="tool-btn clear-btn">üóëÔ∏è Effacer tout</button>
                    </div>
                </div>
            </div>
            
            <div class="quiz-section" style="background: #d4edda; border: 3px solid #28a745;">
                <h3 class="quiz-title" style="color: #155724;">üí≠ Questions de R√©flexion Finale</h3>
                <div class="story-text">
                    <p><strong>R√©fl√©chis √† l'histoire :</strong></p>
                    <ol style="line-height: 2; margin-left: 20px;">
                        <li>Est-ce que tu as d√©j√† dormi en retard pour quelque chose d'important ?</li>
                        <li>Quel est ton r√™ve impossible ?</li>
                        <li>Si tu pouvais rencontrer ta c√©l√©brit√© pr√©f√©r√©e, qui serait-ce ?</li>
                        <li>Qu'est-ce que Marguerite a appris dans cette histoire ?</li>
                        <li>Pourquoi est-il important de ne pas abandonner, m√™me quand c'est difficile ?</li>
                    </ol>
                </div>
            </div>
        </div>
        
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Chapter Navigation
            const navButtons = document.querySelectorAll('.nav-btn');
            const chapters = document.querySelectorAll('.content');
            
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const chapterId = this.getAttribute('data-chapter');
                    
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    chapters.forEach(chapter => chapter.classList.remove('active'));
                    
                    this.classList.add('active');
                    document.getElementById(chapterId).classList.add('active');
                    
                    window.scrollTo(0, 0);
                });
            });
            
            // Drag and Drop Functionality
            const draggables = document.querySelectorAll('.draggable');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', function() {
                    this.classList.add('dragging');
                });
                
                draggable.addEventListener('dragend', function() {
                    this.classList.remove('dragging');
                });
            });
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('over');
                });
                
                zone.addEventListener('dragleave', function() {
                    this.classList.remove('over');
                });
                
                zone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('over');
                    
                    const dragging = document.querySelector('.dragging');
                    if (dragging && !this.querySelector('.draggable')) {
                        this.appendChild(dragging);
                    }
                });
            });
            
            // Check Drag and Drop Answers
            const checkButtons = document.querySelectorAll('[data-check]');
            checkButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const chapter = this.getAttribute('data-check');
                    const section = this.closest('.vocab-section');
                    const zones = section.querySelectorAll('.drop-zone');
                    const feedback = section.querySelector('.feedback');
                    
                    let correct = 0;
                    let total = zones.length;
                    
                    zones.forEach(zone => {
                        const correctAnswer = zone.getAttribute('data-correct');
                        const droppedWord = zone.querySelector('.draggable');
                        
                        zone.classList.remove('correct', 'incorrect');
                        
                        if (droppedWord && droppedWord.textContent.trim() === correctAnswer) {
                            zone.classList.add('correct');
                            correct++;
                        } else {
                            zone.classList.add('incorrect');
                        }
                    });
                    
                    if (correct === total) {
                        feedback.className = 'feedback correct show';
                        feedback.textContent = `üéâ Parfait ! ${correct}/${total} correct ! Tu comprends tr√®s bien !`;
                    } else if (correct >= total * 0.75) {
                        feedback.className = 'feedback correct show';
                        feedback.textContent = `üëç Tr√®s bien ! ${correct}/${total} correct !`;
                    } else {
                        feedback.className = 'feedback incorrect show';
                        feedback.textContent = `üìñ ${correct}/${total} correct. Relis et essaie encore !`;
                    }
                });
            });
            
            // Quiz Functionality
            const quizButtons = document.querySelectorAll('[data-quiz]');
            const correctAnswers = {
                'q1': 'b', 'q2': 'b', 'q3': 'c',
                'q4': 'b', 'q5': 'a', 'q6': 'b',
                'q7': 'b', 'q8': 'c', 'q9': 'b',
                'q10': 'a', 'q11': 'b', 'q12': 'b',
                'q13': 'b', 'q14': 'c', 'q15': 'b'
            };
            
            quizButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const quizId = this.getAttribute('data-quiz');
                    const section = this.closest('.quiz-section');
                    const questions = section.querySelectorAll('.question');
                    const feedback = section.querySelector('.feedback');
                    
                    let correct = 0;
                    let total = questions.length;
                    
                    questions.forEach(question => {
                        const options = question.querySelectorAll('input[type="radio"]');
                        const questionName = options[0].name;
                        const selectedOption = question.querySelector('input[type="radio"]:checked');
                        
                        options.forEach(opt => {
                            opt.parentElement.style.background = '#f8f9fa';
                            opt.parentElement.style.borderColor = '#dee2e6';
                        });
                        
                        if (selectedOption) {
                            if (selectedOption.value === correctAnswers[questionName]) {
                                selectedOption.parentElement.style.background = '#d4edda';
                                selectedOption.parentElement.style.borderColor = '#28a745';
                                correct++;
                            } else {
                                selectedOption.parentElement.style.background = '#f8d7da';
                                selectedOption.parentElement.style.borderColor = '#dc3545';
                            }
                            
                            const correctOption = question.querySelector(`input[value="${correctAnswers[questionName]}"]`);
                            if (correctOption && correctOption !== selectedOption) {
                                correctOption.parentElement.style.background = '#d4edda';
                                correctOption.parentElement.style.borderColor = '#28a745';
                            }
                        }
                    });
                    
                    if (correct === total) {
                        feedback.className = 'feedback correct show';
                        feedback.textContent = `üéâ Parfait ! ${correct}/${total} correct ! Tu as vraiment bien compris l'histoire !`;
                    } else if (correct >= total * 0.67) {
                        feedback.className = 'feedback correct show';
                        feedback.textContent = `üëç Tr√®s bien ! ${correct}/${total} correct !`;
                    } else {
                        feedback.className = 'feedback incorrect show';
                        feedback.textContent = `üìñ ${correct}/${total} correct. Relis le chapitre et essaie encore !`;
                    }
                });
            });
            
            // Drawing Canvas Setup
            const canvases = document.querySelectorAll('.drawing-canvas');
            const canvasStates = {};
            
            canvases.forEach(canvas => {
                const canvasId = canvas.getAttribute('data-canvas');
                const ctx = canvas.getContext('2d');
                const section = canvas.closest('.drawing-section');
                
                canvasStates[canvasId] = {
                    isDrawing: false,
                    currentColor: '#000000',
                    currentSize: 3,
                    isEraser: false,
                    history: [],
                    historyStep: -1
                };
                
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                saveState(canvasId, canvas);
                
                const undoBtn = section.querySelector('.undo-btn');
                const redoBtn = section.querySelector('.redo-btn');
                
                function saveState(id, cnv) {
                    const state = canvasStates[id];
                    state.history = state.history.slice(0, state.historyStep + 1);
                    state.history.push(cnv.toDataURL());
                    state.historyStep++;
                    updateUndoRedoButtons(id);
                }
                
                function updateUndoRedoButtons(id) {
                    const state = canvasStates[id];
                    const undo = section.querySelector('.undo-btn');
                    const redo = section.querySelector('.redo-btn');
                    
                    undo.disabled = state.historyStep <= 0;
                    redo.disabled = state.historyStep >= state.history.length - 1;
                }
                
                undoBtn.addEventListener('click', function() {
                    const state = canvasStates[canvasId];
                    if (state.historyStep > 0) {
                        state.historyStep--;
                        const img = new Image();
                        img.src = state.history[state.historyStep];
                        img.onload = function() {
                            ctx.clearRect(0, 0, canvas.width, canvas.height);
                            ctx.drawImage(img, 0, 0);
                            updateUndoRedoButtons(canvasId);
                        };
                    }
                });
                
                redoBtn.addEventListener('click', function() {
                    const state = canvasStates[canvasId];
                    if (state.historyStep < state.history.length - 1) {
                        state.historyStep++;
                        const img = new Image();
                        img.src = state.history[state.historyStep];
                        img.onload = function() {
                            ctx.clearRect(0, 0, canvas.width, canvas.height);
                            ctx.drawImage(img, 0, 0);
                            updateUndoRedoButtons(canvasId);
                        };
                    }
                });
                
                const colorBtns = section.querySelectorAll('.color-btn');
                colorBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        colorBtns.forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        canvasStates[canvasId].currentColor = this.getAttribute('data-color');
                        canvasStates[canvasId].isEraser = false;
                        section.querySelector('.eraser-btn').classList.remove('active');
                    });
                });
                
                const sizeSlider = section.querySelector('.pen-size-slider');
                const sizeDisplay = section.querySelector('.pen-size-display');
                
                sizeSlider.addEventListener('input', function() {
                    canvasStates[canvasId].currentSize = this.value;
                    sizeDisplay.textContent = this.value + 'px';
                });
                
                const eraserBtn = section.querySelector('.eraser-btn');
                eraserBtn.addEventListener('click', function() {
                    canvasStates[canvasId].isEraser = !canvasStates[canvasId].isEraser;
                    this.classList.toggle('active');
                    if (canvasStates[canvasId].isEraser) {
                        colorBtns.forEach(b => b.classList.remove('active'));
                    }
                });
                
                const clearBtn = section.querySelector('.clear-btn');
                clearBtn.addEventListener('click', function() {
                    if (confirm('Es-tu s√ªr(e) de vouloir effacer tout le dessin ? üé®')) {
                        ctx.fillStyle = 'white';
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                        saveState(canvasId, canvas);
                    }
                });
                
                let lastX = 0;
                let lastY = 0;
                
                function startDrawing(e) {
                    canvasStates[canvasId].isDrawing = true;
                    const rect = canvas.getBoundingClientRect();
                    lastX = e.clientX - rect.left;
                    lastY = e.clientY - rect.top;
                }
                
                function stopDrawing() {
                    if (canvasStates[canvasId].isDrawing) {
                        canvasStates[canvasId].isDrawing = false;
                        ctx.beginPath();
                        saveState(canvasId, canvas);
                    }
                }
                
                function draw(e) {
                    if (!canvasStates[canvasId].isDrawing) return;
                    
                    const rect = canvas.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    ctx.lineWidth = canvasStates[canvasId].currentSize;
                    ctx.lineCap = 'round';
                    ctx.lineJoin = 'round';
                    
                    if (canvasStates[canvasId].isEraser) {
                        ctx.strokeStyle = 'white';
                    } else {
                        ctx.strokeStyle = canvasStates[canvasId].currentColor;
                    }
                    
                    ctx.beginPath();
                    ctx.moveTo(lastX, lastY);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                    
                    lastX = x;
                    lastY = y;
                }
                
                canvas.addEventListener('mousedown', startDrawing);
                canvas.addEventListener('mouseup', stopDrawing);
                canvas.addEventListener('mousemove', draw);
                canvas.addEventListener('mouseout', stopDrawing);
                
                canvas.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    const mouseEvent = new MouseEvent('mousedown', {
                        clientX: touch.clientX,
                        clientY: touch.clientY
                    });
                    canvas.dispatchEvent(mouseEvent);
                });
                
                canvas.addEventListener('touchmove', function(e) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    const mouseEvent = new MouseEvent('mousemove', {
                        clientX: touch.clientX,
                        clientY: touch.clientY
                    });
                    canvas.dispatchEvent(mouseEvent);
                });
                
                canvas.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    const mouseEvent = new MouseEvent('mouseup', {});
                    canvas.dispatchEvent(mouseEvent);
                });
            });
            
            // PONG GAME
            const pongCanvas = document.getElementById('pongCanvas');
            if (pongCanvas) {
                const ctx = pongCanvas.getContext('2d');
                const startBtn = document.getElementById('startBtn');
                const resetBtn = document.getElementById('resetBtn');
                const scoreDisplay = document.getElementById('scoreDisplay');
                const victoryMessage = document.getElementById('victoryMessage');
                
                let gameRunning = false;
                let animationId;
                
                const game = {
                    ball: {
                        x: pongCanvas.width / 2,
                        y: pongCanvas.height / 2,
                        radius: 10,
                        speed: 5,
                        velocityX: 5,
                        velocityY: 5
                    },
                    paddle1: {
                        x: 10,
                        y: pongCanvas.height / 2 - 50,
                        width: 10,
                        height: 100,
                        score: 0
                    },
                    paddle2: {
                        x: pongCanvas.width - 20,
                        y: pongCanvas.height / 2 - 50,
                        width: 10,
                        height: 100,
                        score: 0
                    }
                };
                
                const keys = {};
                
                document.addEventListener('keydown', (e) => {
                    keys[e.key.toLowerCase()] = true;
                });
                
                document.addEventListener('keyup', (e) => {
                    keys[e.key.toLowerCase()] = false;
                });
                
                function drawRect(x, y, w, h, color) {
                    ctx.fillStyle = color;
                    ctx.fillRect(x, y, w, h);
                }
                
                function drawCircle(x, y, r, color) {
                    ctx.fillStyle = color;
                    ctx.beginPath();
                    ctx.arc(x, y, r, 0, Math.PI * 2);
                    ctx.closePath();
                    ctx.fill();
                }
                
                function drawText(text, x, y, color, size = '30px') {
                    ctx.fillStyle = color;
                    ctx.font = `${size} Arial`;
                    ctx.textAlign = 'center';
                    ctx.fillText(text, x, y);
                }
                
                function drawNet() {
                    for (let i = 0; i < pongCanvas.height; i += 15) {
                        drawRect(pongCanvas.width / 2 - 1, i, 2, 10, '#00b894');
                    }
                }
                
                function collision(ball, paddle) {
                    ball.top = ball.y - ball.radius;
                    ball.bottom = ball.y + ball.radius;
                    ball.left = ball.x - ball.radius;
                    ball.right = ball.x + ball.radius;
                    
                    paddle.top = paddle.y;
                    paddle.bottom = paddle.y + paddle.height;
                    paddle.left = paddle.x;
                    paddle.right = paddle.x + paddle.width;
                    
                    return ball.right > paddle.left && ball.bottom > paddle.top && 
                           ball.left < paddle.right && ball.top < paddle.bottom;
                }
                
                function resetBall() {
                    game.ball.x = pongCanvas.width / 2;
                    game.ball.y = pongCanvas.height / 2;
                    game.ball.speed = 5;
                    game.ball.velocityX = -game.ball.velocityX;
                }
                
                function update() {
                    // Move paddles
                    if (keys['w'] && game.paddle1.y > 0) {
                        game.paddle1.y -= 7;
                    }
                    if (keys['s'] && game.paddle1.y < pongCanvas.height - game.paddle1.height) {
                        game.paddle1.y += 7;
                    }
                    if (keys['arrowup'] && game.paddle2.y > 0) {
                        game.paddle2.y -= 7;
                    }
                    if (keys['arrowdown'] && game.paddle2.y < pongCanvas.height - game.paddle2.height) {
                        game.paddle2.y += 7;
                    }
                    
                    // Move ball
                    game.ball.x += game.ball.velocityX;
                    game.ball.y += game.ball.velocityY;
                    
                    // Ball collision with top and bottom
                    if (game.ball.y + game.ball.radius > pongCanvas.height || 
                        game.ball.y - game.ball.radius < 0) {
                        game.ball.velocityY = -game.ball.velocityY;
                    }
                    
                    // Determine which paddle to check collision with
                    let paddle = (game.ball.x < pongCanvas.width / 2) ? game.paddle1 : game.paddle2;
                    
                    if (collision(game.ball, paddle)) {
                        let collidePoint = game.ball.y - (paddle.y + paddle.height / 2);
                        collidePoint = collidePoint / (paddle.height / 2);
                        
                        let angleRad = collidePoint * Math.PI / 4;
                        
                        let direction = (game.ball.x < pongCanvas.width / 2) ? 1 : -1;
                        game.ball.velocityX = direction * game.ball.speed * Math.cos(angleRad);
                        game.ball.velocityY = game.ball.speed * Math.sin(angleRad);
                        
                        game.ball.speed += 0.2;
                    }
                    
                    // Update score
                    if (game.ball.x - game.ball.radius < 0) {
                        game.paddle2.score++;
                        resetBall();
                        updateScore();
                    } else if (game.ball.x + game.ball.radius > pongCanvas.width) {
                        game.paddle1.score++;
                        resetBall();
                        updateScore();
                    }
                    
                    // Check for winner
                    if (game.paddle1.score >= 7 || game.paddle2.score >= 7) {
                        endGame();
                    }
                }
                
                function render() {
                    // Clear canvas
                    drawRect(0, 0, pongCanvas.width, pongCanvas.height, '#0f3460');
                    
                    // Draw net
                    drawNet();
                    
                    // Draw paddles
                    drawRect(game.paddle1.x, game.paddle1.y, game.paddle1.width, game.paddle1.height, '#00b894');
                    drawRect(game.paddle2.x, game.paddle2.y, game.paddle2.width, game.paddle2.height, '#fd79a8');
                    
                    // Draw ball
                    drawCircle(game.ball.x, game.ball.y, game.ball.radius, '#fdcb6e');
                    
                    // Draw player names
                    drawText('Marg', pongCanvas.width / 4, 50, '#00b894', '24px');
                    drawText('Meg', 3 * pongCanvas.width / 4, 50, '#fd79a8', '24px');
                }
                
                function gameLoop() {
                    if (!gameRunning) return;
                    
                    update();
                    render();
                    
                    animationId = requestAnimationFrame(gameLoop);
                }
                
                function updateScore() {
                    scoreDisplay.textContent = `Marg: ${game.paddle1.score} | Meg: ${game.paddle2.score}`;
                }
                
                function startGame() {
                    if (gameRunning) return;
                    
                    gameRunning = true;
                    victoryMessage.classList.remove('show');
                    startBtn.textContent = 'üéæ Jeu en cours...';
                    startBtn.disabled = true;
                    gameLoop();
                }
                
                function endGame() {
                    gameRunning = false;
                    cancelAnimationFrame(animationId);
                    
                    let winner = game.paddle1.score >= 7 ? 'Marguerite' : 'Meg';
                    victoryMessage.textContent = `üèÜ ${winner} gagne le match ! üèÜ`;
                    victoryMessage.classList.add('show');
                    
                    startBtn.textContent = 'üéæ Commencer le Match';
                    startBtn.disabled = false;
                }
                
                function resetGame() {
                    gameRunning = false;
                    cancelAnimationFrame(animationId);
                    
                    game.paddle1.score = 0;
                    game.paddle2.score = 0;
                    game.ball.speed = 5;
                    resetBall();
                    updateScore();
                    victoryMessage.classList.remove('show');
                    
                    startBtn.textContent = 'üéæ Commencer le Match';
                    startBtn.disabled = false;
                    
                    render();
                }
                
                startBtn.addEventListener('click', startGame);
                resetBtn.addEventListener('click', resetGame);
                
                // Initial render
                render();
                updateScore();
            }
            
        }); // End DOMContentLoaded
    </script>
</body>
</html>