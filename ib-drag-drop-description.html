<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IB French Image Description Builder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #764ba2;
            margin-bottom: 10px;
            font-size: 2.2em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .tab {
            padding: 12px 24px;
            background: #f8f9fa;
            border: none;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
        }
        
        .tab:hover {
            background: #e8eaf6;
            color: #764ba2;
        }
        
        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .grammar-section {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
        }
        
        .grammar-section h3 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .grammar-rule {
            background: white;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 6px;
        }
        
        .grammar-rule h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .grammar-rule p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .grammar-example {
            background: #e8f5e9;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
        }
        
        .grammar-example.correct {
            border-left: 3px solid #4caf50;
        }
        
        .grammar-example.incorrect {
            background: #ffebee;
            border-left: 3px solid #f44336;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .comparison-table td {
            padding: 10px;
            border: 1px solid #e0e0e0;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .dropdown {
            flex: 1;
            min-width: 200px;
        }
        
        .dropdown label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }
        
        select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 1em;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        select:hover {
            border-color: #764ba2;
        }
        
        select:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(118, 75, 162, 0.1);
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .phrase-bank {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            min-height: 400px;
        }
        
        .phrase-bank h2 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .phrase-category {
            margin-bottom: 20px;
        }
        
        .category-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
            padding: 8px;
            background: #e8eaf6;
            border-radius: 5px;
        }
        
        .phrase-item {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            padding: 12px;
            margin: 8px 0;
            cursor: move;
            transition: all 0.2s ease;
            user-select: none;
        }
        
        .phrase-item:hover {
            border-color: #764ba2;
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .phrase-item.dragging {
            opacity: 0.5;
            transform: rotate(2deg);
        }
        
        .phrase-fr {
            font-weight: 600;
            color: #333;
            margin-bottom: 3px;
        }
        
        .phrase-en {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }
        
        .drop-zone {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            padding: 20px;
            min-height: 400px;
            color: white;
        }
        
        .drop-zone h2 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .drop-area {
            background: rgba(255, 255, 255, 0.1);
            border: 2px dashed rgba(255, 255, 255, 0.5);
            border-radius: 8px;
            padding: 20px;
            min-height: 350px;
            transition: all 0.3s ease;
        }
        
        .drop-area.drag-over {
            background: rgba(255, 255, 255, 0.2);
            border-color: white;
            transform: scale(1.02);
        }
        
        .dropped-item {
            background: white;
            color: #333;
            border-radius: 6px;
            padding: 12px;
            margin: 8px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            transition: all 0.2s ease;
        }
        
        .dropped-item:hover {
            transform: translateX(-5px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .dropped-item.dragging {
            opacity: 0.5;
        }
        
        .remove-btn {
            background: #f44336;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.2s ease;
        }
        
        .remove-btn:hover {
            background: #d32f2f;
            transform: scale(1.1);
        }
        
        .output-section {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .output-section h2 {
            color: #764ba2;
            margin-bottom: 15px;
        }
        
        .output-text {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 20px;
            font-size: 1.1em;
            line-height: 1.8;
            color: #333;
            min-height: 100px;
            white-space: pre-wrap;
        }
        
        .output-translation {
            background: #e8f5e9;
            border: 1px solid #c8e6c9;
            border-radius: 6px;
            padding: 15px;
            margin-top: 10px;
            font-style: italic;
            color: #2e7d32;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn-clear {
            background: #f44336;
            color: white;
        }
        
        .btn-clear:hover {
            background: #d32f2f;
        }
        
        .btn-copy {
            background: #4caf50;
            color: white;
        }
        
        .btn-copy:hover {
            background: #388e3c;
        }
        
        .btn-example {
            background: #2196F3;
            color: white;
        }
        
        .btn-example:hover {
            background: #1976d2;
        }
        
        .empty-state {
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            padding: 40px;
            font-size: 1.1em;
        }
        
        .instructions {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 6px;
        }
        
        .instructions h3 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .instructions p {
            color: #856404;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎯 IB Image Description Builder</h1>
        <p class="subtitle">Drag and drop phrases to build your Individual Oral description</p>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('builder')">🏗️ Sentence Builder</button>
            <button class="tab" onclick="switchTab('grammar')">📖 Grammar Guide</button>
        </div>
        
        <!-- BUILDER TAB -->
        <div id="builder-tab" class="tab-content active">
            <div class="instructions">
                <h3>📝 Instructions:</h3>
                <p>1. Select a theme from the dropdown to filter phrases<br>
                2. Drag phrases from the left into your description on the right<br>
                3. Rearrange items in your description by dragging them<br>
                4. Click the ✕ button to remove items<br>
                5. Copy your final description using the "Copy Text" button</p>
            </div>
        
        <div class="controls">
            <div class="dropdown">
                <label for="theme-select">🌍 Select IB Theme:</label>
                <select id="theme-select">
                    <option value="all">All Themes</option>
                    <option value="identites">Identités (Identities)</option>
                    <option value="experiences">Expériences (Experiences)</option>
                    <option value="ingeniosite">Ingéniosité Humaine (Human Ingenuity)</option>
                    <option value="sociale">Organisation Sociale (Social Organization)</option>
                    <option value="planete">Partage de la Planète (Sharing the Planet)</option>
                </select>
            </div>
            
            <div class="dropdown">
                <label for="category-select">📂 Select Category:</label>
                <select id="category-select">
                    <option value="all">All Categories</option>
                    <option value="intro">Introduction phrases</option>
                    <option value="description">Description phrases</option>
                    <option value="people">Describing people</option>
                    <option value="action">Describing actions</option>
                    <option value="analysis">Analysis phrases</option>
                    <option value="conclusion">Conclusion phrases</option>
                </select>
            </div>
        </div>
        
        <div class="main-content">
            <div class="phrase-bank">
                <h2>📚 Phrase Bank</h2>
                <div id="phrase-container"></div>
            </div>
            
            <div class="drop-zone">
                <h2>✍️ Your Description</h2>
                <div id="drop-area" class="drop-area">
                    <div class="empty-state">Drag phrases here to build your description...</div>
                </div>
            </div>
        </div>
        
        <div class="output-section">
            <h2>📄 Final Text</h2>
            <div class="output-text" id="output-text">Your description will appear here...</div>
            <div class="output-translation" id="output-translation"></div>
            
            <div class="action-buttons">
                <button class="btn btn-copy" onclick="copyText()">📋 Copy French Text</button>
                <button class="btn btn-example" onclick="loadExample()">💡 Load Example</button>
                <button class="btn btn-clear" onclick="clearAll()">🗑️ Clear All</button>
            </div>
        </div>
        </div>
        
        <!-- GRAMMAR TAB -->
        <div id="grammar-tab" class="tab-content">
            <div class="grammar-section">
                <h3>📏 Adjective Agreement (L'accord des adjectifs)</h3>
                
                <div class="grammar-rule">
                    <h4>Basic Rules</h4>
                    <p>Adjectives must agree in gender (masculine/feminine) and number (singular/plural) with the noun they modify.</p>
                    
                    <div class="grammar-example correct">
                        ✓ un homme <strong>déterminé</strong> (masculine singular)<br>
                        ✓ une femme <strong>déterminée</strong> (feminine singular)<br>
                        ✓ des hommes <strong>déterminés</strong> (masculine plural)<br>
                        ✓ des femmes <strong>déterminées</strong> (feminine plural)
                    </div>
                </div>
                
                <div class="grammar-rule">
                    <h4>Common Patterns for IB Descriptions</h4>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Masculine Singular</th>
                                <th>Feminine Singular</th>
                                <th>Masculine Plural</th>
                                <th>Feminine Plural</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>un groupe <strong>uni</strong></td>
                                <td>une foule <strong>unie</strong></td>
                                <td>des groupes <strong>unis</strong></td>
                                <td>des foules <strong>unies</strong></td>
                            </tr>
                            <tr>
                                <td>un message <strong>clair</strong></td>
                                <td>une image <strong>claire</strong></td>
                                <td>des messages <strong>clairs</strong></td>
                                <td>des images <strong>claires</strong></td>
                            </tr>
                            <tr>
                                <td>un contexte <strong>social</strong></td>
                                <td>une question <strong>sociale</strong></td>
                                <td>des contextes <strong>sociaux</strong></td>
                                <td>des questions <strong>sociales</strong></td>
                            </tr>
                            <tr>
                                <td>un défi <strong>important</strong></td>
                                <td>une cause <strong>importante</strong></td>
                                <td>des défis <strong>importants</strong></td>
                                <td>des causes <strong>importantes</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="grammar-rule">
                    <h4>Irregular Adjectives</h4>
                    <p>Some adjectives have irregular forms:</p>
                    <div class="grammar-example correct">
                        ✓ un <strong>beau</strong> paysage → une <strong>belle</strong> image → de <strong>beaux</strong> paysages<br>
                        ✓ un <strong>nouveau</strong> contexte → une <strong>nouvelle</strong> perspective<br>
                        ✓ un <strong>vieux</strong> bâtiment → une <strong>vieille</strong> tradition
                    </div>
                </div>
                
                <div class="grammar-rule">
                    <h4>Position Matters</h4>
                    <p><strong>BANGS adjectives</strong> (Beauty, Age, Number, Goodness, Size) usually come BEFORE the noun:</p>
                    <div class="grammar-example correct">
                        ✓ une <strong>grande</strong> manifestation (a large demonstration)<br>
                        ✓ un <strong>jeune</strong> étudiant (a young student)<br>
                        ✓ une <strong>belle</strong> image (a beautiful image)<br>
                        ✓ plusieurs <strong>petits</strong> groupes (several small groups)
                    </div>
                    
                    <p>Most other adjectives come AFTER the noun:</p>
                    <div class="grammar-example correct">
                        ✓ une manifestation <strong>pacifique</strong> (a peaceful demonstration)<br>
                        ✓ un message <strong>politique</strong> (a political message)<br>
                        ✓ une scène <strong>urbaine</strong> (an urban scene)
                    </div>
                </div>
            </div>
            
            <div class="grammar-section">
                <h3>⚖️ Comparing and Contrasting (La comparaison)</h3>
                
                <div class="grammar-rule">
                    <h4>Comparative Structures</h4>
                    
                    <p><strong>More than (plus... que):</strong></p>
                    <div class="grammar-example correct">
                        ✓ Cette manifestation est <strong>plus grande que</strong> celle d'hier.<br>
                        ✓ Les étudiants sont <strong>plus engagés que</strong> prévu.<br>
                        ✓ Cette image est <strong>plus significative que</strong> la précédente.
                    </div>
                    
                    <p><strong>Less than (moins... que):</strong></p>
                    <div class="grammar-example correct">
                        ✓ Le groupe est <strong>moins nombreux que</strong> l'année dernière.<br>
                        ✓ Cette scène est <strong>moins dramatique que</strong> l'autre.
                    </div>
                    
                    <p><strong>As... as (aussi... que):</strong></p>
                    <div class="grammar-example correct">
                        ✓ Cette image est <strong>aussi puissante que</strong> les mots.<br>
                        ✓ Les manifestants sont <strong>aussi déterminés que</strong> les organisateurs.
                    </div>
                </div>
                
                <div class="grammar-rule">
                    <h4>Superlative (The most/least)</h4>
                    <div class="grammar-example correct">
                        ✓ C'est <strong>la plus grande</strong> manifestation de l'année.<br>
                        ✓ Ce sont <strong>les étudiants les plus engagés</strong>.<br>
                        ✓ C'est <strong>le message le plus clair</strong>.<br>
                        ✓ C'est <strong>la scène la moins violente</strong>.
                    </div>
                    
                    <div class="grammar-example incorrect">
                        ✗ C'est la manifestation <strong>la plus grande</strong> (position error)<br>
                        ✓ C'est la <strong>plus grande</strong> manifestation (correct)
                    </div>
                </div>
                
                <div class="grammar-rule">
                    <h4>Irregular Comparatives</h4>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Adjective</th>
                                <th>Comparative</th>
                                <th>Superlative</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>bon(ne) (good)</td>
                                <td><strong>meilleur(e)</strong> (better)</td>
                                <td><strong>le/la meilleur(e)</strong> (the best)</td>
                            </tr>
                            <tr>
                                <td>mauvais(e) (bad)</td>
                                <td><strong>pire</strong> (worse)</td>
                                <td><strong>le/la pire</strong> (the worst)</td>
                            </tr>
                            <tr>
                                <td>bien (well)</td>
                                <td><strong>mieux</strong> (better)</td>
                                <td><strong>le mieux</strong> (the best)</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="grammar-example correct">
                        ✓ Cette solution est <strong>meilleure que</strong> l'autre.<br>
                        ✓ C'est <strong>le meilleur</strong> exemple.<br>
                        ✓ Ils comprennent <strong>mieux</strong> maintenant.
                    </div>
                    
                    <div class="grammar-example incorrect">
                        ✗ Cette solution est <strong>plus bonne</strong> (incorrect)<br>
                        ✓ Cette solution est <strong>meilleure</strong> (correct)
                    </div>
                </div>
                
                <div class="grammar-rule">
                    <h4>Useful Contrasting Phrases for IB</h4>
                    <div class="grammar-example correct">
                        ✓ <strong>Tandis que</strong> certains manifestent, d'autres observent.<br>
                        ✓ <strong>Alors que</strong> l'image montre la paix, le contexte révèle la tension.<br>
                        ✓ <strong>En revanche</strong>, cette photo présente un contraste frappant.<br>
                        ✓ <strong>Par contre</strong>, on observe une différence notable.<br>
                        ✓ <strong>D'un côté</strong>... <strong>de l'autre côté</strong>...<br>
                        ✓ <strong>Au contraire</strong>, cette scène démontre l'unité.<br>
                        ✓ <strong>Contrairement à</strong> l'autre image, celle-ci évoque...<br>
                        ✓ <strong>À la différence de</strong> la première photo, cette scène...
                    </div>
                </div>
                
                <div class="grammar-rule">
                    <h4>Similarity Expressions</h4>
                    <div class="grammar-example correct">
                        ✓ <strong>De la même façon</strong>, cette image illustre...<br>
                        ✓ <strong>De même</strong>, on observe une solidarité collective.<br>
                        ✓ <strong>Également</strong>, les participants démontrent...<br>
                        ✓ <strong>Pareillement</strong>, cette scène révèle...<br>
                        ✓ <strong>Tout comme</strong> dans l'extrait littéraire, cette photo...<br>
                        ✓ <strong>Semblable à</strong> la situation décrite, on voit...
                    </div>
                </div>
            </div>
            
            <div class="grammar-section">
                <h3>💡 Quick Reference for IB Oral</h3>
                
                <div class="grammar-rule">
                    <h4>Gender Patterns to Remember</h4>
                    <p><strong>Usually Feminine:</strong> -tion, -sion, -té, -ette, -ure, -ence, -ance</p>
                    <div class="grammar-example correct">
                        ✓ la manifesta<strong>tion</strong>, la diver<strong>sité</strong>, l'import<strong>ance</strong>, la cult<strong>ure</strong>
                    </div>
                    
                    <p><strong>Usually Masculine:</strong> -isme, -age, -ment, -eau, -phone</p>
                    <div class="grammar-example correct">
                        ✓ le fémin<strong>isme</strong>, le mes<strong>sage</strong>, le gouverne<strong>ment</strong>, le drape<strong>au</strong>
                    </div>
                </div>
                
                <div class="grammar-rule">
                    <h4>Common Mistakes to Avoid</h4>
                    <div class="grammar-example incorrect">
                        ✗ Les personnes <strong>pacifique</strong> (missing plural)<br>
                        ✓ Les personnes <strong>pacifiques</strong>
                    </div>
                    <div class="grammar-example incorrect">
                        ✗ Une manifestation <strong>important</strong> (missing feminine)<br>
                        ✓ Une manifestation <strong>importante</strong>
                    </div>
                    <div class="grammar-example incorrect">
                        ✗ Cette image est <strong>plus bonne</strong> (irregular form)<br>
                        ✓ Cette image est <strong>meilleure</strong>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            if (tabName === 'builder') {
                document.getElementById('builder-tab').classList.add('active');
                document.querySelectorAll('.tab')[0].classList.add('active');
            } else if (tabName === 'grammar') {
                document.getElementById('grammar-tab').classList.add('active');
                document.querySelectorAll('.tab')[1].classList.add('active');
            }
        }
        const phrases = [
            // IDENTITÉS
            { fr: "Cette image représente", en: "This image represents", theme: "identites", category: "intro" },
            { fr: "On voit un groupe de personnes", en: "We see a group of people", theme: "identites", category: "people" },
            { fr: "Au premier plan,", en: "In the foreground,", theme: "identites", category: "description" },
            { fr: "Les élèves portent des uniformes identiques", en: "The students wear identical uniforms", theme: "identites", category: "people" },
            { fr: "Cette photo illustre l'accès à l'éducation", en: "This photo illustrates access to education", theme: "identites", category: "analysis" },
            { fr: "L'environnement scolaire reflète les conditions matérielles", en: "The school environment reflects material conditions", theme: "identites", category: "analysis" },
            { fr: "Cette scène témoigne de la diversité culturelle", en: "This scene testifies to cultural diversity", theme: "identites", category: "conclusion" },
            
            // MORE DESCRIBING PEOPLE
            { fr: "Les individus semblent concentrés", en: "The individuals seem focused", theme: "identites", category: "people" },
            { fr: "On observe des personnes de tous âges", en: "We observe people of all ages", theme: "identites", category: "people" },
            { fr: "Les participants ont l'air déterminés", en: "The participants look determined", theme: "identites", category: "people" },
            { fr: "Un homme se tient debout", en: "A man stands", theme: "identites", category: "people" },
            { fr: "Une femme porte un foulard", en: "A woman wears a headscarf", theme: "identites", category: "people" },
            { fr: "Les jeunes sont assis en rangées", en: "The young people are seated in rows", theme: "identites", category: "people" },
            { fr: "On remarque leurs expressions sérieuses", en: "We notice their serious expressions", theme: "identites", category: "people" },
            { fr: "Les personnes affichent une posture confiante", en: "The people display a confident posture", theme: "identites", category: "people" },
            { fr: "Leurs regards sont dirigés vers l'avant", en: "Their gazes are directed forward", theme: "identites", category: "people" },
            { fr: "Les vêtements traditionnels reflètent leur identité", en: "The traditional clothing reflects their identity", theme: "identites", category: "people" },
            { fr: "On distingue plusieurs générations", en: "We distinguish several generations", theme: "identites", category: "people" },
            { fr: "Les gens paraissent engagés", en: "The people appear engaged", theme: "identites", category: "people" },
            { fr: "Une foule diverse se rassemble", en: "A diverse crowd gathers", theme: "identites", category: "people" },
            { fr: "Les visages expriment la solidarité", en: "The faces express solidarity", theme: "identites", category: "people" },
            { fr: "Certains sourient, d'autres sont sérieux", en: "Some smile, others are serious", theme: "identites", category: "people" },
            { fr: "Les bras sont levés en signe de protestation", en: "Arms are raised as a sign of protest", theme: "identites", category: "people" },
            { fr: "On peut voir des étudiants attentifs", en: "We can see attentive students", theme: "identites", category: "people" },
            { fr: "Les spectateurs observent avec intérêt", en: "The spectators observe with interest", theme: "identites", category: "people" },
            { fr: "Un groupe compact occupe l'espace", en: "A compact group occupies the space", theme: "identites", category: "people" },
            { fr: "Les citoyens marchent côte à côte", en: "The citizens walk side by side", theme: "identites", category: "people" },
            
            // EXPÉRIENCES
            { fr: "Les manifestants marchent dans la rue", en: "The protesters march in the street", theme: "experiences", category: "action" },
            { fr: "On assiste à une manifestation pacifique", en: "We are witnessing a peaceful demonstration", theme: "experiences", category: "intro" },
            { fr: "Les participants brandissent des pancartes", en: "The participants brandish signs", theme: "experiences", category: "action" },
            { fr: "La photo a été prise en soirée", en: "The photo was taken in the evening", theme: "experiences", category: "description" },
            { fr: "L'atmosphère semble déterminée", en: "The atmosphere seems determined", theme: "experiences", category: "analysis" },
            { fr: "Cette expérience collective démontre l'engagement", en: "This collective experience demonstrates engagement", theme: "experiences", category: "conclusion" },
            
            // INGÉNIOSITÉ HUMAINE
            { fr: "Cette image présente une innovation technologique", en: "This image presents a technological innovation", theme: "ingeniosite", category: "intro" },
            { fr: "On constate l'intégration de la technologie", en: "We note the integration of technology", theme: "ingeniosite", category: "analysis" },
            { fr: "Les pancartes transmettent un message clair", en: "The signs transmit a clear message", theme: "ingeniosite", category: "description" },
            { fr: "Cette forme de communication collective", en: "This form of collective communication", theme: "ingeniosite", category: "analysis" },
            { fr: "L'arrière-plan révèle une architecture urbaine", en: "The background reveals urban architecture", theme: "ingeniosite", category: "description" },
            
            // ORGANISATION SOCIALE
            { fr: "Cette manifestation dénonce une injustice", en: "This demonstration denounces an injustice", theme: "sociale", category: "analysis" },
            { fr: "Les citoyens exercent leur droit de manifester", en: "Citizens exercise their right to protest", theme: "sociale", category: "action" },
            { fr: "La banderole réclame la justice", en: "The banner demands justice", theme: "sociale", category: "description" },
            { fr: "Le logo de l'ONU est visible", en: "The UN logo is visible", theme: "sociale", category: "description" },
            { fr: "Le groupe démontre une solidarité collective", en: "The group demonstrates collective solidarity", theme: "sociale", category: "analysis" },
            { fr: "Cette mobilisation unit des personnes diverses", en: "This mobilization unites diverse people", theme: "sociale", category: "conclusion" },
            
            // PARTAGE DE LA PLANÈTE
            { fr: "Cette image évoque les droits fondamentaux", en: "This image evokes fundamental rights", theme: "planete", category: "intro" },
            { fr: "Le message universel transcende les frontières", en: "The universal message transcends borders", theme: "planete", category: "analysis" },
            { fr: "Cette scène met en lumière des disparités", en: "This scene highlights disparities", theme: "planete", category: "analysis" },
            { fr: "La présence de drapeaux multiples symbolise la coopération", en: "The presence of multiple flags symbolizes cooperation", theme: "planete", category: "description" },
            { fr: "Cette action globale répond à un défi partagé", en: "This global action responds to a shared challenge", theme: "planete", category: "conclusion" },
            
            // GENERAL CONNECTORS
            { fr: "De plus,", en: "Moreover,", theme: "all", category: "description" },
            { fr: "En outre,", en: "Furthermore,", theme: "all", category: "description" },
            { fr: "Par ailleurs,", en: "Besides,", theme: "all", category: "description" },
            { fr: "À l'arrière-plan,", en: "In the background,", theme: "all", category: "description" },
            { fr: "Au second plan,", en: "In the middle ground,", theme: "all", category: "description" },
            { fr: "En conclusion,", en: "In conclusion,", theme: "all", category: "conclusion" },
            { fr: "À mon avis,", en: "In my opinion,", theme: "all", category: "conclusion" },
            { fr: "Cette image est significative car", en: "This image is significant because", theme: "all", category: "analysis" },
        ];

        let droppedPhrases = [];
        let draggedElement = null;
        let draggedIndex = null;

        function renderPhrases() {
            const container = document.getElementById('phrase-container');
            const themeFilter = document.getElementById('theme-select').value;
            const categoryFilter = document.getElementById('category-select').value;
            
            const filtered = phrases.filter(p => {
                const themeMatch = themeFilter === 'all' || p.theme === themeFilter || p.theme === 'all';
                const categoryMatch = categoryFilter === 'all' || p.category === categoryFilter;
                return themeMatch && categoryMatch;
            });
            
            container.innerHTML = '';
            
            filtered.forEach((phrase, index) => {
                const item = document.createElement('div');
                item.className = 'phrase-item';
                item.draggable = true;
                item.dataset.index = index;
                item.dataset.fr = phrase.fr;
                item.dataset.en = phrase.en;
                
                item.innerHTML = `
                    <div class="phrase-fr">${phrase.fr}</div>
                    <div class="phrase-en">${phrase.en}</div>
                `;
                
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
                
                container.appendChild(item);
            });
        }

        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.innerHTML);
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
        }

        function setupDropZone() {
            const dropArea = document.getElementById('drop-area');
            
            dropArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropArea.classList.add('drag-over');
                e.dataTransfer.dropEffect = 'move';
            });
            
            dropArea.addEventListener('dragleave', () => {
                dropArea.classList.remove('drag-over');
            });
            
            dropArea.addEventListener('drop', (e) => {
                e.preventDefault();
                dropArea.classList.remove('drag-over');
                
                if (draggedElement && draggedElement.classList.contains('phrase-item')) {
                    const fr = draggedElement.dataset.fr;
                    const en = draggedElement.dataset.en;
                    droppedPhrases.push({ fr, en });
                    renderDropped();
                    updateOutput();
                }
            });
        }

        function renderDropped() {
            const dropArea = document.getElementById('drop-area');
            
            if (droppedPhrases.length === 0) {
                dropArea.innerHTML = '<div class="empty-state">Drag phrases here to build your description...</div>';
                return;
            }
            
            dropArea.innerHTML = '';
            
            droppedPhrases.forEach((phrase, index) => {
                const item = document.createElement('div');
                item.className = 'dropped-item';
                item.draggable = true;
                item.dataset.index = index;
                
                item.innerHTML = `
                    <div>
                        <div class="phrase-fr">${phrase.fr}</div>
                        <div class="phrase-en">${phrase.en}</div>
                    </div>
                    <button class="remove-btn" onclick="removeItem(${index})">✕</button>
                `;
                
                item.addEventListener('dragstart', (e) => {
                    draggedIndex = index;
                    item.classList.add('dragging');
                });
                
                item.addEventListener('dragend', () => {
                    item.classList.remove('dragging');
                });
                
                item.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    const afterElement = getDragAfterElement(dropArea, e.clientY);
                    if (afterElement == null) {
                        dropArea.appendChild(item);
                    } else {
                        dropArea.insertBefore(item, afterElement);
                    }
                });
                
                item.addEventListener('drop', (e) => {
                    e.preventDefault();
                    if (draggedIndex !== null) {
                        const newIndex = parseInt(item.dataset.index);
                        const [removed] = droppedPhrases.splice(draggedIndex, 1);
                        droppedPhrases.splice(newIndex, 0, removed);
                        draggedIndex = null;
                        renderDropped();
                        updateOutput();
                    }
                });
                
                dropArea.appendChild(item);
            });
        }

        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.dropped-item:not(.dragging)')];
            
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                
                if (offset < 0 && offset > closest.offset) {
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }

        function removeItem(index) {
            droppedPhrases.splice(index, 1);
            renderDropped();
            updateOutput();
        }

        function updateOutput() {
            const outputText = document.getElementById('output-text');
            const outputTranslation = document.getElementById('output-translation');
            
            if (droppedPhrases.length === 0) {
                outputText.textContent = 'Your description will appear here...';
                outputTranslation.textContent = '';
                return;
            }
            
            const frenchText = droppedPhrases.map(p => p.fr).join(' ');
            const englishText = droppedPhrases.map(p => p.en).join(' ');
            
            outputText.textContent = frenchText;
            outputTranslation.textContent = englishText;
        }

        function copyText() {
            const text = document.getElementById('output-text').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('✅ French text copied to clipboard!');
            });
        }

        function clearAll() {
            droppedPhrases = [];
            renderDropped();
            updateOutput();
        }

        function loadExample() {
            // Create random valid sentences
            const examples = [
                [
                    { fr: "Cette image représente", en: "This image represents" },
                    { fr: "une manifestation pacifique", en: "a peaceful demonstration" },
                    { fr: "qui dénonce une injustice.", en: "that denounces an injustice." },
                    { fr: "Au premier plan,", en: "In the foreground," },
                    { fr: "les manifestants marchent dans la rue", en: "the protesters march in the street" },
                    { fr: "en brandissant des pancartes.", en: "brandishing signs." },
                    { fr: "Cette mobilisation unit des personnes diverses", en: "This mobilization unites diverse people" },
                    { fr: "et démontre une solidarité collective.", en: "and demonstrates collective solidarity." },
                ],
                [
                    { fr: "On voit un groupe de personnes", en: "We see a group of people" },
                    { fr: "dans un environnement scolaire.", en: "in a school environment." },
                    { fr: "Les élèves portent des uniformes identiques", en: "The students wear identical uniforms" },
                    { fr: "ce qui souligne l'unité.", en: "which emphasizes unity." },
                    { fr: "Cette photo illustre l'accès à l'éducation", en: "This photo illustrates access to education" },
                    { fr: "dans un contexte particulier.", en: "in a particular context." },
                    { fr: "Cette scène témoigne de la diversité culturelle", en: "This scene testifies to cultural diversity" },
                    { fr: "et l'importance de l'apprentissage.", en: "and the importance of learning." },
                ],
                [
                    { fr: "Cette image présente une innovation technologique", en: "This image presents a technological innovation" },
                    { fr: "dans un cadre institutionnel.", en: "in an institutional setting." },
                    { fr: "Le logo de l'ONU est visible", en: "The UN logo is visible" },
                    { fr: "symbolisant la coopération internationale.", en: "symbolizing international cooperation." },
                    { fr: "La présence de drapeaux multiples symbolise la coopération", en: "The presence of multiple flags symbolizes cooperation" },
                    { fr: "entre différentes nations.", en: "between different nations." },
                    { fr: "Cette action globale répond à un défi partagé", en: "This global action responds to a shared challenge" },
                    { fr: "concernant les droits humains.", en: "concerning human rights." },
                ],
                [
                    { fr: "On assiste à une manifestation pacifique", en: "We are witnessing a peaceful demonstration" },
                    { fr: "dans les rues urbaines.", en: "in the urban streets." },
                    { fr: "La photo a été prise en soirée", en: "The photo was taken in the evening" },
                    { fr: "avec un éclairage ambiant.", en: "with ambient lighting." },
                    { fr: "L'atmosphère semble déterminée", en: "The atmosphere seems determined" },
                    { fr: "et les participants sont unis.", en: "and the participants are united." },
                    { fr: "Cette expérience collective démontre l'engagement", en: "This collective experience demonstrates engagement" },
                    { fr: "envers la justice sociale.", en: "toward social justice." },
                ],
                [
                    { fr: "Cette image évoque les droits fondamentaux", en: "This image evokes fundamental rights" },
                    { fr: "dans la société contemporaine.", en: "in contemporary society." },
                    { fr: "Au premier plan,", en: "In the foreground," },
                    { fr: "on observe des symboles importants", en: "we observe important symbols" },
                    { fr: "qui représentent l'unité.", en: "that represent unity." },
                    { fr: "Le message universel transcende les frontières", en: "The universal message transcends borders" },
                    { fr: "et inspire l'action collective.", en: "and inspires collective action." },
                ],
            ];
            
            const randomExample = examples[Math.floor(Math.random() * examples.length)];
            droppedPhrases = randomExample;
            renderDropped();
            updateOutput();
        }

        // Initialize
        document.getElementById('theme-select').addEventListener('change', renderPhrases);
        document.getElementById('category-select').addEventListener('change', renderPhrases);
        
        setupDropZone();
        renderPhrases();
    </script>
</body>
</html>